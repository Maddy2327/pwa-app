<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Account Details</title>
  
  <style>
    /* Base styles */
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
      overflow-x: hidden; /* Prevent horizontal scroll due to sidebar sliding */
    }

    /* Prevents background scrolling when mobile sidebar is open */
    body.no-scroll {
        overflow: hidden;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar Wrapper for positioning */
    .sidebar-wrapper {
        width: 250px; /* Fixed width for desktop */
        flex-shrink: 0;
        transition: transform 0.3s ease-in-out; /* Smooth transition for sliding */
        z-index: 1000; /* Ensure it's above other content */
        background-color: #1e3a5f; /* Apply background to wrapper for consistent slide */
    }

    .sidebar {
      color: white;
      padding: 20px;
      height: 100%; /* Ensure sidebar takes full height of wrapper */
      overflow-y: auto; /* Enable scrolling if menu content exceeds height */
    }

    .sidebar h2, .sidebar h4 {
      margin-bottom: 20px;
      /* Ensure text is not cut off, particularly for mobile */
      white-space: nowrap; 
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .menu {
      list-style: none;
      padding-left: 0;
    }

    .menu li {
      margin: 0; /* Reset default margin */
      cursor: pointer;
      padding: 12px 0; /* Increased padding for better touch targets */
      display: flex;
      align-items: center;
      justify-content: space-between; /* Space out text and arrow */
      transition: background-color 0.2s ease; /* Smooth hover effect */
      color: white; /* Ensure consistent text color */
    }

    .menu li:hover {
        background-color: rgba(255, 255, 255, 0.1); /* Subtle hover effect */
    }

    .menu li.active {
      font-weight: bold;
      color: #38bdf8; /* Active link color */
    }

    /* Submenu styling */
    .menu .sub {
      list-style: none;
      padding-left: 0; /* Reset default padding */
      margin-left: 15px; /* Indent submenus */
      font-size: 14px;
      color: #cbd5e1;
      max-height: 0; /* Initially hidden with 0 height */
      overflow: hidden;
      transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out; /* Smooth slide-down */
      opacity: 0; /* Start invisible */
    }

    .menu .sub.open {
      max-height: 200px; /* Adjust based on max expected submenu height */
      opacity: 1; /* Fully visible */
    }

    .menu .sub li {
      padding: 8px 0; /* Smaller padding for sub-items */
      color: #cbd5e1; /* Sub-item color */
      font-weight: normal; /* Reset font-weight */
    }

    .menu .sub li.active {
        font-weight: bold;
        color: #38bdf8;
    }

    /* Arrow icon for expandable menu items */
    .menu li .arrow {
        margin-left: 10px;
        transition: transform 0.3s ease;
        display: inline-block; /* Ensure it respects positioning */
        font-size: 16px; /* Adjust size as needed */
    }

    .menu li.has-submenu.expanded .arrow {
        transform: rotate(90deg); /* Rotate arrow when expanded */
    }
    
    .menu li span {
        flex-grow: 1; /* Allows text to take up space */
    }

    .content {
      flex: 1;
      padding: 30px;
      overflow-x: hidden; /* Prevent horizontal scroll for content */
      transition: margin-left 0.3s ease-in-out; /* For pushing content if desired */
    }

    .topbar {
      display: flex;
      justify-content: flex-end; /* Default align to end for desktop */
      align-items: center;
      margin-bottom: 20px;
      position: relative; /* For positioning hamburger icon */
    }

    .mobile-brand {
        display: none; /* Hidden by default on desktop */
        font-size: 24px;
        font-weight: bold;
        color: #333;
        position: absolute;
        left: 0;
    }

    .avatar {
      margin-left: 10px;
      font-size: 24px;
    }

    .account-section h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }

    .account-section p {
      color: #666;
      margin-bottom: 20px;
    }

    .card {
      background-color: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 8px rgba(0,0,0,0.05);
      margin-bottom: 15px;
    }

    .row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0;
      flex-wrap: wrap; /* Allows items to wrap to next line on smaller screens */
    }

    .row span, .row button, .row a {
      margin-right: 10px; /* Add some spacing between items */
    }

    .row span:first-child {
      flex-shrink: 0; /* Prevents the first span (e.g., Email, Password) from shrinking too much */
    }

    .description {
      color: #777;
      flex: 1; /* Allows description to take up available space */
      padding: 0 15px;
      min-width: 150px; /* Ensures description doesn't become too small */
    }

    .primary-btn {
      background-color: #2563eb;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      white-space: nowrap; /* Prevents button text from wrapping */
    }

    .link-btn {
      color: #3b82f6;
      text-decoration: none;
      font-weight: 500;
      white-space: nowrap; /* Prevents link text from wrapping */
    }

    /* Hamburger Menu styles (hidden by default on desktop) */
    .hamburger-menu {
      display: none; /* Hidden on desktop */
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
      position: absolute; /* Position relative to topbar on mobile */
      top: 10px; /* Adjust as needed */
      left: 10px; /* Adjust as needed */
      z-index: 1001; /* Above sidebar-wrapper when open */
    }

    .hamburger-menu .bar {
      width: 25px;
      height: 3px;
      background-color: #333;
      margin: 5px 0;
      transition: all 0.3s ease;
    }

    /* --- Responsive Adjustments (Media Queries) --- */

    /* For screens smaller than 768px (common tablet portrait / large mobile) */
    @media (max-width: 768px) {
      .sidebar-wrapper {
        position: fixed; /* Fix sidebar position */
        top: 0;
        left: 0; /* Starts hidden off-screen */
        height: 100vh;
        width: 250px; /* Still a fixed width for the sliding menu */
        transform: translateX(-250px); /* Initially hidden off-screen to the left */
        box-shadow: 2px 0 5px rgba(0,0,0,0.2);
        z-index: 999; /* Below hamburger menu */
      }

      /* When sidebar is open */
      .sidebar-wrapper.open {
        transform: translateX(0); /* Slide into view */
      }

      .sidebar {
        padding: 20px 15px; /* Adjust padding for mobile sidebar */
      }

      .sidebar h2 {
        text-align: left; /* Keep brand left-aligned in sliding menu */
      }
      
      /* Ensure menu items stack correctly in mobile sidebar */
      .menu {
        display: block; 
      }

      .menu li {
        margin: 0; /* Ensure no extra margins from desktop styles */
      }

      .menu .sub {
        margin-left: 25px; /* Indent submenus for clarity */
      }

      .sidebar h4, .menu.resources {
        display: block; /* Show resources in sliding menu */
      }

      .content {
        padding: 15px; /* Slightly less padding on smaller screens */
        margin-left: 0; /* No push on mobile */
      }

      .topbar {
        justify-content: flex-end; /* Align user info to right */
        padding: 10px 15px; /* Add padding to topbar */
        background-color: #fff; /* Give topbar a background */
        border-bottom: 1px solid #eee;
        margin-bottom: 15px; /* Adjust margin after topbar */
        position: sticky; /* Make topbar sticky */
        top: 0;
        z-index: 500;
      }

      .mobile-brand {
        display: block; /* Show brand on mobile */
        left: 50px; /* Position next to hamburger */
        top: 50%;
        transform: translateY(-50%);
      }

      .hamburger-menu {
        display: block; /* Show hamburger on mobile */
      }

      .account-section h1 {
        font-size: 24px;
      }

      .card {
        padding: 15px;
      }

      .row {
        flex-direction: column; /* Stack row items vertically on small screens */
        align-items: flex-start; /* Align stacked items to the left */
        margin: 10px 0;
      }

      .row > *:not(.description) {
        width: 100%;
        margin-bottom: 5px;
        margin-right: 0; /* Remove horizontal margin */
      }

      .description {
        padding: 5px 0;
        width: 100%;
        text-align: left;
      }

      .primary-btn, .link-btn {
        width: 100%;
        text-align: center;
        margin-top: 10px;
      }
    }

    /* Further adjustments for very small screens (e.g., less than 480px) */
    @media (max-width: 480px) {
      .content {
        padding: 10px;
      }

      .account-section h1 {
        font-size: 20px;
      }

      .card {
        padding: 10px;
      }

      .hamburger-menu {
        top: 5px; /* Adjust for smaller topbar */
        left: 5px;
      }

      .topbar {
        padding: 5px 10px;
      }

      .mobile-brand {
        left: 45px;
      }
    }
  </style>
  
  <link rel="manifest" href="manifest.json" />
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('Service Worker registered:', reg))
          .catch(err => console.error('Service Worker registration failed:', err));
      });
    }
  </script>
</head>
<body>
  <div class="container">
    
    <button class="hamburger-menu" aria-label="Toggle Navigation">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </button>

    <div class="sidebar-wrapper">
      <aside class="sidebar">
        <h2>RAPID AIGO</h2>
        <ul class="menu">
          <li><span>Dashboard</span></li>
          <li class="has-submenu">
            <span>Usage</span>
            <span class="arrow">&#9654;</span> <ul class="sub">
              <li>REST</li>
              <li>WEBSOCKET</li>
            </ul>
          </li>
          <li><span>Keys</span></li>
          <li class="active has-submenu">
            <span>Account</span>
            <span class="arrow">&#9654;</span> <ul class="sub open"> <li class="active">Details</li>
              <li>Agreement</li>
              <li>Subscriptions</li>
              <li>Billing</li>
              <li>Transactions</li>
            </ul>
          </li>
        </ul>
        <h4>Resources</h4>
        <ul class="menu resources">
          <li><span>REST Docs</span></li>
          <li><span>Web Sockets</span></li>
          <li><span>Flat Files Docs</span></li>
          <li><span>Tutorials</span></li>
          <li><span>Markets UI</span></li>
        </ul>
      </aside>
    </div>

    <main class="content">
      <header class="topbar">
        <span class="mobile-brand">RAPID AIGO</span> 
        <span>xyzzh</span>
        <span class="avatar">👤</span>
      </header>

      <section class="account-section">
        <h1>ACCOUNT</h1>
        <p>Your Account Authentication Details</p>

        <div class="card">
          <div class="row">
            <span>📧 Email</span>
            <span class="description">will be integrated with user's email</span>
            <button class="primary-btn">Change</button>
          </div>

          <div class="row">
            <span>🔒 Password</span>
            <span>***************</span>
            <a href="#" class="link-btn">Reset Password</a>
          </div>
        </div>

        <div class="card">
          <div class="row">
            <span>💳 Password</span>
            <a href="#" class="link-btn">Reset Password</a>
          </div>
        </div>
      </section>
    </main>
  </div>
  <script>
    // Change Email button action
    document.querySelectorAll('.primary-btn').forEach(button => {
      button.addEventListener('click', () => {
        alert('Redirecting to email change page...');
        // You can redirect like this: window.location.href = '/change-email.html';
      });
    });

    // Reset password links
    document.querySelectorAll('.link-btn').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        alert('Reset password link sent to your email.');
      });
    });

    // --- NEW / MODIFIED JS FOR MOBILE SIDEBAR MENU ---

    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const sidebarWrapper = document.querySelector('.sidebar-wrapper');
    const mainContent = document.querySelector('.content'); // To potentially dim or move main content

    // Ensure elements exist before adding event listeners
    if (hamburgerMenu && sidebarWrapper && mainContent) {
        hamburgerMenu.addEventListener('click', (event) => {
            event.stopPropagation(); // Prevent this click from being caught by mainContent listener
            sidebarWrapper.classList.toggle('open');
            document.body.classList.toggle('no-scroll'); // Toggle no-scroll class on body
        });

        // Close sidebar when clicking outside (on the main content area)
        mainContent.addEventListener('click', () => {
            if (sidebarWrapper.classList.contains('open')) {
                sidebarWrapper.classList.remove('open');
                document.body.classList.remove('no-scroll');
            }
        });

        // Prevent clicks inside the sidebar from closing it (important if mainContent click closes it)
        sidebarWrapper.addEventListener('click', (e) => {
            e.stopPropagation();
        });
    }

    // Toggle submenus with smooth transition and arrow rotation
    document.querySelectorAll('.menu > li.has-submenu').forEach(menuItem => {
      menuItem.addEventListener('click', (event) => {
        // Find the submenu and toggle its 'open' class
        const sub = menuItem.querySelector('.sub');
        if (sub) {
          sub.classList.toggle('open');
          // Toggle 'expanded' class on parent for arrow rotation
          menuItem.classList.toggle('expanded');
        }
        // Optional: If you click on a parent that only toggles a submenu,
        // prevent it from immediately closing the sidebar if it was mobile.
        if (window.innerWidth <= 768 && event.target === menuItem) {
             event.stopPropagation();
        }
      });
    });

    // Handle clicks on actual menu items (both main and sub-items)
    document.querySelectorAll('.menu li:not(.has-submenu) span, .menu .sub li').forEach(item => {
        item.addEventListener('click', (event) => {
            // Remove 'active' from all menu items first
            document.querySelectorAll('.menu li, .menu .sub li').forEach(li => {
                li.classList.remove('active');
            });

            // Add 'active' to the clicked item
            // For sub-items, 'item' itself is the li. For main items, the parent li needs active.
            if (item.tagName === 'LI') {
                item.classList.add('active');
            } else { // It's a span inside an li
                item.closest('li').classList.add('active');
            }

            // Also, ensure the parent 'Account' or 'Usage' is marked active if a sub-item is active
            const parentSubmenu = item.closest('.sub');
            if (parentSubmenu) {
                parentSubmenu.closest('li.has-submenu').classList.add('active');
            }

            // If on mobile, close the sidebar after a menu item is clicked
            if (window.innerWidth <= 768 && sidebarWrapper.classList.contains('open')) {
                sidebarWrapper.classList.remove('open');
                document.body.classList.remove('no-scroll');
            }
            // Add any navigation logic here if needed (e.g., load content dynamically)
            console.log('Menu item clicked:', event.target.textContent.trim());
        });
    });

  </script>
</body>
</html>